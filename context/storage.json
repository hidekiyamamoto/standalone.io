{
  "version": 1,
  "description": "Logical storage layers for the standalone.io Web OS. This file is meant to be human- and machine-readable so that apps and agents share the same mental model of what 'memory' means in the browser.",
  "layers": [
    {
      "id": "memory",
      "label": "In-memory working set",
      "type": "volatile",
      "persists": false,
      "api": "JavaScript Map (not serialized)",
      "lifetime": "Lost on reload / navigation",
      "intendedUse": "Temporary state, ephemeral context while an app is open."
    },
    {
      "id": "session",
      "label": "Session storage",
      "type": "browser",
      "persists": false,
      "api": "window.sessionStorage",
      "lifetime": "Persists across reloads in the same tab, cleared when the tab is closed.",
      "intendedUse": "Per-tab session state, wizard progress, transient UI state."
    },
    {
      "id": "local",
      "label": "Local storage",
      "type": "browser",
      "persists": true,
      "api": "window.localStorage",
      "lifetime": "Persists across tabs and browser restarts for this origin until cleared.",
      "intendedUse": "User preferences, pinned apps, light-weight context and settings."
    },
    {
      "id": "indexeddb",
      "label": "IndexedDB",
      "type": "browser",
      "persists": true,
      "api": "window.indexedDB",
      "lifetime": "Long-term structured data, subject to browser quota and eviction.",
      "intendedUse": "Larger datasets, logs, embeddings, and rich app data."
    },
    {
      "id": "cache",
      "label": "Cache storage",
      "type": "browser",
      "persists": true,
      "api": "window.caches",
      "lifetime": "Managed by the browser and service worker; may be evicted under pressure.",
      "intendedUse": "Static assets, pre-fetched responses, offline support."
    }
  ],
  "notes": [
    "All persisted keys are expected to be namespaced under `standalone.io:` or an app-specific prefix to avoid collisions.",
    "Apps should treat these layers as a hierarchy: prefer memory → session → local → indexeddb depending on how durable the data must be.",
    "Remote or server-side memory is intentionally out of scope for this local context description."
  ]
}

